# System architecture template
# Uses "titled container + transparent md child" pattern for
# rounded corners with rich content, and direction: down for narrow width.
direction: down

classes: {
  frontend: {
    style: {
      fill: "#e3f2fd"
      stroke: "#1565c0"
      border-radius: 10
    }
  }
  backend: {
    style: {
      fill: "#fff3e0"
      stroke: "#e65100"
      border-radius: 10
    }
  }
  database: {
    shape: cylinder
    style: {
      fill: "#e8f5e9"
      stroke: "#2e7d32"
    }
  }
  cache: {
    shape: cylinder
    style: {
      fill: "#fce4ec"
      stroke: "#c62828"
    }
  }
}

client: Client Layer {
  class: frontend

  details: |md
- Web App (React SPA)
- Mobile App (iOS/Android)
| {
    style.fill: transparent
    style.stroke: transparent
  }
}

services: Backend Services {
  class: backend

  details: |md
- API Gateway — routing + rate limiting
- Auth Service — JWT validation
- Core API — business logic
- Background Worker — async jobs
| {
    style.fill: transparent
    style.stroke: transparent
  }
}

postgres: PostgreSQL {class: database}
redis: Redis {class: cache}

# Vertical chain for narrow layout
client -> services: HTTPS
services -> postgres: queries
services -> redis: cache
